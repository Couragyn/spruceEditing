{% extends "base.html" %} 
{% block content %}
{% load crispy_forms_tags %}

<script>
	var head = document.getElementsByTagName("head")[0],
	    cssLink = document.createElement("link");
	cssLink.href = "/static/css/upload.css";
	cssLink.rel="stylesheet";
	cssLink.type="text/css";
	head.appendChild(cssLink);

	$(function(){
	    $(document).on('click', '.btn-add', function(e)
	    {
	        e.preventDefault();

	        var controlForm = $('.controls:first'),
	            currentEntry = $(this).parents('.entry:first'),
	            newEntry = $(currentEntry.clone()).appendTo(controlForm);

	        newEntry.find('input').val('');
	        controlForm.find('.entry:not(:last) .btn-add')
	            .removeClass('btn-add').addClass('btn-remove')
	            .removeClass('btn-success').addClass('btn-danger')
	            .html('<span class="fas fa-minus"></span>');
	    }).on('click', '.btn-remove', function(e)
	    {
	      $(this).parents('.entry:first').remove();

			e.preventDefault();
			return false;
		});
	});

</script>

<!--     <div class="container">
    	<p>test</p>


        {% if request.session.sendmessage %}
			<i>{{ request.session.sendmessage }}</i>
		{% endif %}
		 
		<form class="form" action="../send-contact/" method="POST" enctype="multipart/form-data">{% csrf_token %}
			<div class="form-group">
				<div class="form-group">
					<label for="nameInput" class="required">Name:</label>
	    			<input type="text" name="nameInput" class="form-control" id="nameInput" placeholder="Enter name" required>
	    		</div>
				<div class="form-group">
					<label for="emailInput" class="required">Email:</label>
	    			<input type="email" name="emailInput" class="form-control" id="emailInput" placeholder="Enter email" required>
	    		</div>
				<div class="form-group">
					<label for="phoneInput">Phone Number:</label>
	    			<input type="text" name="phoneInput" class="form-control" id="phoneInput" placeholder="Enter phone number">
	    		</div>
				<div class="form-group">
					<label for="messageInput" class="required">Message: </label>
					<textarea class="form-control" name="messageInput" id="messageInput" rows="3" placeholder="Message Details" required></textarea>
				</div>
				<div class="form-group">
					<label class="control-label" for="attached">Upload Files: </label>
					<small id="passwordHelpBlock" class="form-text text-muted">
						Files must be under 10MB
					</small>
					<div class="controls">
						<div class="entry input-group">
							<input class="btn upload-textarea" name="attached[]" type="file">
							<span class="input-group-btn">
								<button class="btn btn-success btn-add" type="button">
									<i class="fas fa-plus"></i>
								</button>
							</span>
						</div>
					</div>
				</div>
				<button class="btn btn-primary" type="submit">Send</button>
			</div>
		</form>
	</div> -->

  <!-- Page Content -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
			<h2 class="card-title">Contact Us</h2>

          {% if error_message %}
          <div class="alert alert-primary" role="alert">
            {{error_message}}
          </div>
          {% endif %}

          {% if email_form %}
          <form method="POST" action ="" enctype="multipart/form-data">
            {% csrf_token %}
            {{email_form|crispy}}
          <button type="submit" class="btn btn-primary">Send Email</button>
          </form>
          {% endif %}

      </div>
    </div>
  </div>
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


{%endblock%}
